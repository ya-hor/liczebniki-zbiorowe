<!DOCTYPE html>

<html lang="pl">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Liczebniki Zbiorowe - Wersja Nowoczesna</title>

<link rel="preconnect" href="https://fonts.googleapis.com">

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>

<!-- 

========================================================================

POCZĄTEK: style.css - Skopiuj poniższą zawartość do pliku style.css

========================================================================

-->

<style>

:root {

--primary-bg: #f4f7f6;

--container-bg: #ffffff;

--text-color: #333;

--primary-color: #3498db;

--primary-hover-color: #2980b9;

--secondary-color: #9b59b6;

--secondary-hover-color: #8e44ad;

--tertiary-color: #f1c40f;

--tertiary-hover-color: #f39c12;

--correct-color: #2ecc71;

--incorrect-color: #e74c3c;

--life-color: var(--incorrect-color);

--border-color: #e0e0e0;

--font-family: 'Nunito', sans-serif;

--shadow-color: rgba(0, 0, 0, 0.1);

}


body.dark-theme {

--primary-bg: #2c3e50;

--container-bg: #34495e;

--text-color: #ecf0f1;

--primary-color: #3498db;

--primary-hover-color: #4ea8e1;

--secondary-color: #8e44ad;

--secondary-hover-color: #9b59b6;

--tertiary-color: #f39c12;

--tertiary-hover-color: #f1c40f;

--border-color: #4a627a;

--shadow-color: rgba(0, 0, 0, 0.3);

}


body {

font-family: var(--font-family);

background-color: var(--primary-bg);

color: var(--text-color);

display: flex;

justify-content: center;

align-items: center;

min-height: 100vh;

margin: 0;

padding: 1rem;

box-sizing: border-box;

transition: background-color 0.3s ease;

}


.game-container {

position: relative;

background-color: var(--container-bg);

padding: 2.5rem;

border-radius: 16px;

box-shadow: 0 10px 30px var(--shadow-color);

width: 100%;

max-width: 600px;

text-align: center;

transition: background-color 0.3s ease;

}

.top-controls {

position: absolute;

top: 20px;

right: 20px;

display: flex;

gap: 15px;

align-items: center;

}


.icon-button {

width: 28px;

height: 28px;

cursor: pointer;

user-select: none;

color: #aaa;

transition: color 0.2s ease, transform 0.2s ease;

}

.icon-button:hover {

color: var(--text-color);

transform: scale(1.1);

}

.icon-button svg {

width: 100%;

height: 100%;

}


h1, h2 {

margin-top: 0;

color: var(--text-color);

font-weight: 800;

transition: color 0.3s ease;

}

h1 {

font-size: 2rem;

}

h2 {

font-size: 1.8rem;

}


p {

font-size: 1.1rem;

line-height: 1.7;

color: #555;

transition: color 0.3s ease;

}


body.dark-theme p {

color: #bdc3c7;

}


.hidden {

display: none;

}


.button {

background-color: var(--primary-color);

color: #fff;

border: none;

padding: 0.8rem 1.6rem;

border-radius: 8px;

font-family: var(--font-family);

font-size: 1rem;

font-weight: 700;

cursor: pointer;

transition: all 0.2s ease;

margin-top: 1rem;

}


.button:hover:not(:disabled) {

background-color: var(--primary-hover-color);

transform: translateY(-2px);

box-shadow: 0 4px 10px var(--shadow-color);

}


.button:active:not(:disabled) {

transform: translateY(0);

box-shadow: none;

}

.button:disabled {

background-color: #bdc3c7;

cursor: not-allowed;

}

#show-answer-button {

background-color: var(--secondary-color);

}

#show-answer-button:hover:not(:disabled) {

background-color: var(--secondary-hover-color);

}

#show-mistakes-button {

background-color: var(--tertiary-color);

}

#show-mistakes-button:hover:not(:disabled) {

background-color: var(--tertiary-hover-color);

}


#game-header {

display: flex;

justify-content: space-between;

align-items: center;

margin-bottom: 1.5rem;

padding-bottom: 1rem;

border-bottom: 1px solid var(--border-color);

transition: border-color 0.3s ease;

}


#question-counter {

color: #7f8c8d;

font-size: 0.9rem;

font-weight: 700;

transition: color 0.3s ease;

}


body.dark-theme #question-counter {

color: #95a5a6;

}

#lives-display {

display: flex;

gap: 5px;

}


#lives-display svg {

width: 26px;

height: 26px;

color: var(--life-color);

}

#hint {

color: var(--primary-color);

margin-bottom: 1.5rem;

font-size: 1rem;

font-weight: 700;

}

#sentence {

font-size: 1.3rem;

margin-bottom: 2rem;

min-height: 3em;

color: #34495e;

font-weight: 400;

transition: color 0.3s ease;

}

body.dark-theme #sentence {

color: #ecf0f1;

}


.input-area {

display: flex;

gap: 1rem;

justify-content: center;

align-items: center;

flex-wrap: wrap;

}

#user-answer {

padding: 0.8rem;

font-size: 1.1rem;

font-family: var(--font-family);

color: var(--text-color);

background-color: var(--primary-bg);

border: 1px solid var(--border-color);

border-radius: 8px;

width: 300px;

max-width: 100%;

text-align: center;

transition: all 0.3s ease;

}

#user-answer:focus {

outline: none;

border-color: var(--primary-color);

box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);

}

#feedback {

font-size: 1.2rem;

margin-top: 1.5rem;

min-height: 2em;

font-weight: 700;

}

.correct {

color: var(--correct-color);

}

.incorrect {

color: var(--incorrect-color);

}


#mistakes-list {

text-align: left;

margin-top: 2rem;

max-height: 300px;

overflow-y: auto;

padding-right: 1rem;

}


.mistake-item {

border-bottom: 1px solid var(--border-color);

padding: 1rem 0;

font-size: 1rem;

transition: border-color 0.3s ease;

}


.mistake-item:last-child {

border-bottom: none;

}


.mistake-item p {

margin: 0.3rem 0;

font-size: 1rem;

}


.mistake-item .user-mistake {

color: var(--incorrect-color);

text-decoration: line-through;

}

.mistake-item .correct-answer {

color: var(--correct-color);

}

@media (max-width: 600px) {

.game-container {

padding: 1.5rem;

}

h1 { font-size: 1.5rem; }

h2 { font-size: 1.4rem; }

p, #user-answer, .button { font-size: 1rem; }

#sentence { font-size: 1.1rem; }

.input-area { flex-direction: column; }

}

</style>

</head>

<body class="dark-theme">


<div class="game-container">

<div class="top-controls">

<div id="theme-button" class="icon-button" title="Zmień motyw"></div>

<div id="mute-button" class="icon-button" title="Wycisz / Włącz dźwięk"></div>

</div>


<div id="start-screen">

<h1>Liczebniki Zbiorowe</h1>

<p>Uzupełnij luki w zdaniach poprawną formą liczebnika zbiorowego. Powodzenia!</p>

<button id="start-button" class="button">START</button>

</div>


<div id="game-screen" class="hidden">

<div id="game-header">

<p id="question-counter"></p>

<div id="lives-display"></div>

</div>

<p id="hint"></p>

<p id="sentence"></p>

<div id="input-area" class="input-area">

<input type="text" id="user-answer" placeholder="Wpisz odpowiedź...">

<button id="check-button" class="button">Sprawdź</button>

</div>

<button id="show-answer-button" class="button">Pokaż odpowiedź (-1 życie)</button>

<p id="feedback"></p>

</div>


<div id="end-screen" class="hidden">

<div id="end-screen-content">

<h2 id="end-title"></h2>

<p id="score"></p>

<button id="play-again-button" class="button">Zagraj jeszcze raz</button>

<button id="show-mistakes-button" class="button hidden">Zobacz błędy</button>

</div>

<div id="mistakes-screen" class="hidden">

<h2>Twoje błędy</h2>

<div id="mistakes-list"></div>

<button id="back-to-end-screen-button" class="button">Wróć</button>

</div>

</div>

</div>


<script>

document.addEventListener('DOMContentLoaded', () => {

// --- Źródło pytań ---

const pytania = [

{ hint: "(3)", forma: "trojgu", zdanie: "Dał adresy [_______] studentom." },

{ hint: "(3)", forma: "troje", zdanie: "Pomalował dziś [_______] drzwi." },

{ hint: "(4)", forma: "czworo", zdanie: "Poznała [_______] dzieci sąsiadów." },

{ hint: "(2)", forma: "dwoje", zdanie: "Zobaczył przy drodze [_______] kociąt." },

{ hint: "(2)", forma: "dwojgiem", zdanie: "Przez całą drogę rozmawiali z [_______] pasażerów." },

{ hint: "(3)", forma: "trojgu", zdanie: "Opowiadała Hani bajkę o [_______] koźląt." },

{ hint: "(8)", forma: "ośmiorgu", zdanie: "Musiał pomóc tym [_______] cudzoziemcom." },

{ hint: "(3)", forma: "trojgu", zdanie: "Ciągle opowiadała o swoich [_______] siostrzeńcach." },

{ hint: "(7)", forma: "siedmioro", zdanie: "[_______] dziennikarzy czeka na pana!" },

{ hint: "(3)", forma: "trojgiem", zdanie: "Jestem umówiony z [_______] studentów." },

{ hint: "(5)", forma: "pięcioro", zdanie: "W górach zginęło [_______] turystów." },

{ hint: "(3)", forma: "troje", zdanie: "Do szkoły przyszło [_______] rodziców." },

{ hint: "(2)", forma: "dwojga", zdanie: "Herbatka zimowa dla [_______] spragnionych ust." },

{ hint: "(9)", forma: "dziewięciorga", zdanie: "Pokazywali zdjęcia swoich [_______] wnuków." }

];


// --- Referencje do elementów DOM ---

const startScreen = document.getElementById('start-screen');

const gameScreen = document.getElementById('game-screen');

const endScreen = document.getElementById('end-screen');

const endScreenContent = document.getElementById('end-screen-content');

const mistakesScreen = document.getElementById('mistakes-screen');

const mistakesList = document.getElementById('mistakes-list');

const startButton = document.getElementById('start-button');

const checkButton = document.getElementById('check-button');

const showAnswerButton = document.getElementById('show-answer-button');

const playAgainButton = document.getElementById('play-again-button');

const showMistakesButton = document.getElementById('show-mistakes-button');

const backToEndScreenButton = document.getElementById('back-to-end-screen-button');

const muteButton = document.getElementById('mute-button');

const themeButton = document.getElementById('theme-button');

const questionCounter = document.getElementById('question-counter');

const livesDisplay = document.getElementById('lives-display');

const hint = document.getElementById('hint');

const sentence = document.getElementById('sentence');

const userAnswer = document.getElementById('user-answer');

const feedback = document.getElementById('feedback');

const endTitle = document.getElementById('end-title');

const scoreDisplay = document.getElementById('score');

// --- Ikony SVG ---

const speakerOnIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>`;

const speakerOffIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"></path></svg>`;

const heartIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;

const sunIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.64 5.64c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.41c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L5.64 5.64zm12.72 12.72c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.41c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-1.41-1.41zM18.36 5.64c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0l-1.41 1.41c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0l1.41-1.41zM6.35 18.36c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0l-1.41 1.41c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0l1.41-1.41z"/></svg>`;

const moonIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12.45 2.45c-5.06 0-9.15 4.09-9.15 9.15s4.09 9.15 9.15 9.15c.44 0 .88-.03 1.31-.09-1.87-.96-3.2-2.92-3.2-5.12 0-2.61 1.94-4.83 4.45-5.43C13.88 4.29 13.06 2.45 12.45 2.45z"/></svg>`;


// --- Ustawienia audio (Tone.js) ---

const sfx = {

correct: new Tone.Synth({ oscillator: { type: 'triangle' }, envelope: { attack: 0.005, decay: 0.1, sustain: 0.3, release: 1 } }).toDestination(),

incorrect: new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.01, decay: 0.4, sustain: 0.0, release: 0.2 } }).toDestination(),

click: new Tone.MembraneSynth({ pitchDecay: 0.01, octaves: 2, envelope: { attack: 0.001, decay: 0.2, sustain: 0 } }).toDestination()

};

// --- Zmienne stanu gry ---

let shuffledQuestions = [];

let currentQuestionIndex = 0;

let score = 0;

let lives = 0;

let mistakes = [];

const totalQuestions = pytania.length;

const delayAfterAnswer = 2500;

let audioStarted = false;


// --- Funkcje ---

function updateMuteIcon() {

muteButton.innerHTML = Tone.Destination.mute ? speakerOffIcon : speakerOnIcon;

}

function toggleTheme() {

document.body.classList.toggle('dark-theme');

themeButton.innerHTML = document.body.classList.contains('dark-theme') ? sunIcon : moonIcon;

}


function shuffleArray(array) {

const shuffled = [...array];

for (let i = shuffled.length - 1; i > 0; i--) {

const j = Math.floor(Math.random() * (i + 1));

[shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];

}

return shuffled;

}


async function initAudio() {

if (audioStarted) return;

await Tone.start();

audioStarted = true;

}

function updateLivesDisplay() {

livesDisplay.innerHTML = "";

for(let i=0; i<lives; i++){

const lifeIcon = document.createElement('div');

lifeIcon.innerHTML = heartIcon;

livesDisplay.appendChild(lifeIcon.firstChild);

}

checkButton.disabled = lives <= 0;

showAnswerButton.disabled = lives <= 0;

}


function playClickSound() {

if (audioStarted) sfx.click.triggerAttackRelease("C2", "8n");

}


function startGame() {

initAudio();

playClickSound();

score = 0;

lives = 3;

mistakes = [];

currentQuestionIndex = 0;

shuffledQuestions = shuffleArray(pytania);

startScreen.classList.add('hidden');

endScreen.classList.add('hidden');

gameScreen.classList.remove('hidden');

updateLivesDisplay();

showNextQuestion();

}


function showNextQuestion() {

if (lives <= 0) {

endGame(true);

return;

}

if (currentQuestionIndex < totalQuestions) {

resetQuestionState();

const question = shuffledQuestions[currentQuestionIndex];

questionCounter.textContent = `Pytanie ${currentQuestionIndex + 1} / ${totalQuestions}`;

hint.textContent = `${question.hint}`;

sentence.innerHTML = question.zdanie.replace('[_______]', `<span style="color: var(--primary-color); font-weight: 700;">[_______]</span>`);

} else {

endGame(false);

}

}

function resetQuestionState() {

feedback.textContent = '';

feedback.className = '';

userAnswer.value = '';

userAnswer.disabled = false;

checkButton.disabled = false;

showAnswerButton.disabled = false;

userAnswer.focus();

}


function processAnswer(isCorrect, wasRevealed = false) {

userAnswer.disabled = true;

checkButton.disabled = true;

showAnswerButton.disabled = true;

const currentQuestion = shuffledQuestions[currentQuestionIndex];

const correctForm = Array.isArray(currentQuestion.forma) ? currentQuestion.forma[0] : currentQuestion.forma;


if (isCorrect) {

score++;

feedback.textContent = 'Świetnie!';

feedback.className = 'correct';

if (audioStarted) sfx.correct.triggerAttackRelease("C5", "0.5s");

} else {

lives--;

updateLivesDisplay();

mistakes.push({

question: currentQuestion,

userAnswer: userAnswer.value

});


if (wasRevealed) {

feedback.innerHTML = '';

feedback.className = '';

if (audioStarted) sfx.incorrect.triggerAttackRelease("E3", "0.5s"); 

} else {

feedback.innerHTML = `Błąd! Poprawna forma: <strong>${correctForm}</strong>`;

feedback.className = 'incorrect';

if (audioStarted) sfx.incorrect.triggerAttackRelease("G#2", "0.5s");

}

}

currentQuestionIndex++;

setTimeout(showNextQuestion, delayAfterAnswer);

}


function checkAnswer() {

playClickSound();

const answer = userAnswer.value.trim().toLowerCase();

const currentQuestion = shuffledQuestions[currentQuestionIndex];

const correctAnswers = currentQuestion.forma;

let isAnswerCorrect = false;

if (Array.isArray(correctAnswers)) {

isAnswerCorrect = correctAnswers.map(a => a.toLowerCase()).includes(answer);

} else {

isAnswerCorrect = (answer === correctAnswers.toLowerCase());

}


processAnswer(isAnswerCorrect, false);

}

function showCorrectAnswer() {

playClickSound();

if (lives > 0) {

const currentQuestion = shuffledQuestions[currentQuestionIndex];

const correctForm = Array.isArray(currentQuestion.forma) ? currentQuestion.forma[0] : currentQuestion.forma;

userAnswer.value = correctForm;

processAnswer(false, true); 

}

}


function endGame(outOfLives) {

gameScreen.classList.add('hidden');

endScreen.classList.remove('hidden');

endScreenContent.classList.remove('hidden');

mistakesScreen.classList.add('hidden');


if (outOfLives) {

endTitle.textContent = "Game Over";

scoreDisplay.textContent = `Twój końcowy wynik: ${score} / ${totalQuestions}`;

} else {

endTitle.textContent = "Gratulacje!";

scoreDisplay.textContent = `Twój wynik: ${score} / ${totalQuestions}`;

}


if (mistakes.length > 0) {

showMistakesButton.classList.remove('hidden');

} else {

showMistakesButton.classList.add('hidden');

}

}


function displayMistakes() {

endScreenContent.classList.add('hidden');

mistakesScreen.classList.remove('hidden');

mistakesList.innerHTML = '';


mistakes.forEach(mistake => {

const item = document.createElement('div');

item.className = 'mistake-item';

const correctForm = Array.isArray(mistake.question.forma) ? mistake.question.forma.join(' / ') : mistake.question.forma;


item.innerHTML = `

<p>${mistake.question.zdanie.replace('[_______]', `[<span class="user-mistake">${mistake.userAnswer || '---'}</span>]`)}</p>

<p>Poprawna odpowiedź: <strong class="correct-answer">${correctForm}</strong></p>

`;

mistakesList.appendChild(item);

});

}

function toggleMute() {

playClickSound();

Tone.Destination.mute = !Tone.Destination.mute;

updateMuteIcon();

}


// --- Inicjalizacja ---

updateMuteIcon();

themeButton.innerHTML = sunIcon;


// --- Event Listeners ---

startButton.addEventListener('click', startGame);

checkButton.addEventListener('click', checkAnswer);

showAnswerButton.addEventListener('click', showCorrectAnswer);

userAnswer.addEventListener('keypress', (event) => {

if (event.key === 'Enter' && !checkButton.disabled) { checkAnswer(); }

});

playAgainButton.addEventListener('click', () => {

playClickSound();

startGame();

});

showMistakesButton.addEventListener('click', () => {

playClickSound();

displayMistakes();

});

backToEndScreenButton.addEventListener('click', () => {

playClickSound();

endScreenContent.classList.remove('hidden');

mistakesScreen.classList.add('hidden');

});

muteButton.addEventListener('click', toggleMute);

themeButton.addEventListener('click', () => {

playClickSound();

toggleTheme();

});

});

</script>

</body>

</html>